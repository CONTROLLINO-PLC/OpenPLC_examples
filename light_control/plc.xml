<?xml version='1.0' encoding='utf-8'?>
<project xmlns:ns1="http://www.plcopen.org/xml/tc6_0201" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.plcopen.org/xml/tc6_0201">
  <fileHeader companyName="CONTROLLINO GmbH" productName="CONTROLLINO MAXI Automation" productVersion="0.1.0" creationDateTime="2022-06-29T09:04:32" contentDescription="Stairs light control example for CONTROLLINO MAXI Automation&#10;&#10;Outputs:&#10;DO0 -&gt; %QX0.0 -&gt; LIGHT_DOWN&#10;DO1 -&gt; %QX0.1 -&gt; LIGHT_MIDDLE&#10;DO2 -&gt; %QX0.2 -&gt; LIGHT_UP&#10;&#10;Inputs:&#10;AI2 -&gt; %IX0.0 -&gt; SWITCH_DOWN&#10;AI3 -&gt; %IX0.1 -&gt; SWITCH_UP&#10;AI4 -&gt; %IX0.2 -&gt; PRESENCE_SENSOR&#10;&#10;Behavior:&#10;The switches at both ends of the stairs are push buttons and will turn the lights on and off.&#10;The lights will turn on and off in sequence with a delay of N milliseconds.&#10;The lights will turn off after N seconds if no presence is detected on a sensor that is placed in the middle of the stairs.&#10;&#10;MIT License&#10;&#10;Copyright (c) 2016-2022 CONTROLLINO GmbH&#10;&#10;Permission is hereby granted, free of charge, to any person obtaining a copy&#10;of this software and associated documentation files (the &quot;Software&quot;), to deal&#10;in the Software without restriction, including without limitation the rights&#10;to use, copy, modify, merge, publish, distribute, sublicense, and/or sell&#10;copies of the Software, and to permit persons to whom the Software is&#10;furnished to do so, subject to the following conditions:&#10;&#10;The above copyright notice and this permission notice shall be included in all&#10;copies or substantial portions of the Software.&#10;&#10;THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR&#10;IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,&#10;FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE&#10;AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER&#10;LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,&#10;OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE&#10;SOFTWARE.&#10;&#10;CONTROLLINO - First software open-source PLC (ARDUINO compatible)&#10; &#10;https://controllino.com/&#10;https://github.com/CONTROLLINO-PLC &#10;https://www.arduino.cc/&#10; &#10;author: CONTROLLINO firmware team&#10;version: 0.1.0"/>
  <contentHeader name="Stairs Light Control Example" modificationDateTime="2022-07-12T09:48:54" version="0.1.0" author="Firmware Team">
    <coordinateInfo>
      <fbd>
        <scaling x="10" y="10"/>
      </fbd>
      <ld>
        <scaling x="10" y="10"/>
      </ld>
      <sfc>
        <scaling x="10" y="10"/>
      </sfc>
    </coordinateInfo>
  </contentHeader>
  <types>
    <dataTypes/>
    <pous>
      <pou name="inputs" pouType="program">
        <interface>
          <localVars>
            <variable name="AI2" address="%IX0.0">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="AI3" address="%IX0.1">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="AI4" address="%IX0.2">
              <type>
                <BOOL/>
              </type>
            </variable>
          </localVars>
          <externalVars>
            <variable name="SWITCH_DOWN">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="SWITCH_UP">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="PRESENCE_SENSOR">
              <type>
                <BOOL/>
              </type>
            </variable>
          </externalVars>
        </interface>
        <body>
          <LD>
            <comment localId="14" height="230" width="1150">
              <position x="10" y="10"/>
              <content>
                <xhtml:p><![CDATA[OpenPLC HAL for CONTROLLINO MAXI Automation see https://www.controllino.com/wp-content/uploads/2021/03/CONTROLLINO-MAXI-Automation-Pinout.pdf

Digital In:  AI2, AI3, AI4, AI5, AI6, AI7, AI8, AI9     (%IX0.0 - %IX0.7)
             AI10, AI11, DI0, DI1, DI2, DI3, AI2, AI3   (%IX1.0 - %IX1.7)

Digital Out: DO0, DO1, DO2, DO3, DO4, DO5, DO6, DO7     (%QX0.0 - %QX0.7)
             R0, R1, R2, R3, R4, R5, R6, R7             (%QX1.0 - %QX1.7)
             R8, R9                                     (%QX2.0 - %QX2.1)

Analog In:   AI0, AI1, AI13, AI13                       (%IW0 - %IW3)

Analog Out:  AO0, AO1                                   (%QW0 - %QW1)
]]></xhtml:p>
              </content>
            </comment>
            <comment localId="15" height="130" width="1150">
              <position x="10" y="250"/>
              <content>
                <xhtml:p><![CDATA[In PLC programming it is always a good idea to make a routine that clearly identifies the inputs and outputs with real life use and only in this routine outputs and inputs manipulation happens.

AI2 -> SWITCH_DOWN
AI3 -> SWITCH_UP
AI4 -> PRESENCE_SENSOR]]></xhtml:p>
              </content>
            </comment>
            <leftPowerRail localId="16" height="40" width="10">
              <position x="10" y="440"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="17" height="20" width="21" negated="false">
              <position x="70" y="450"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="16">
                  <position x="70" y="460"/>
                  <position x="20" y="460"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>AI2</variable>
            </contact>
            <coil localId="18" height="20" width="21" negated="false">
              <position x="170" y="450"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="17">
                  <position x="170" y="460"/>
                  <position x="91" y="460"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_DOWN</variable>
            </coil>
            <rightPowerRail localId="1" height="40" width="10">
              <position x="250" y="440"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="18">
                  <position x="250" y="460"/>
                  <position x="191" y="460"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <leftPowerRail localId="2" height="40" width="10" executionOrderId="0">
              <position x="10" y="520"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="3" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="530"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="2">
                  <position x="70" y="540"/>
                  <position x="20" y="540"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>AI3</variable>
            </contact>
            <coil localId="4" height="20" width="21" negated="false" executionOrderId="0">
              <position x="170" y="530"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="3">
                  <position x="170" y="540"/>
                  <position x="91" y="540"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_UP</variable>
            </coil>
            <rightPowerRail localId="5" height="40" width="10" executionOrderId="0">
              <position x="250" y="520"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="4">
                  <position x="250" y="540"/>
                  <position x="191" y="540"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <leftPowerRail localId="6" height="40" width="10" executionOrderId="0">
              <position x="10" y="600"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="7" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="610"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="6">
                  <position x="70" y="620"/>
                  <position x="20" y="620"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>AI4</variable>
            </contact>
            <coil localId="8" height="20" width="21" negated="false" executionOrderId="0">
              <position x="170" y="610"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="7">
                  <position x="170" y="620"/>
                  <position x="91" y="620"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>PRESENCE_SENSOR</variable>
            </coil>
            <rightPowerRail localId="9" height="40" width="10" executionOrderId="0">
              <position x="250" y="600"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="8">
                  <position x="250" y="620"/>
                  <position x="191" y="620"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
          </LD>
        </body>
      </pou>
      <pou name="control" pouType="program">
        <interface>
          <externalVars>
            <variable name="SWITCH_DOWN">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="SWITCH_UP">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="PRESENCE_SENSOR">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="LIGHT_DOWN">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="LIGHT_MIDDLE">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="LIGHT_UP">
              <type>
                <BOOL/>
              </type>
            </variable>
          </externalVars>
          <localVars>
            <variable name="T_SEQUENCE">
              <type>
                <TIME/>
              </type>
              <initialValue>
                <simpleValue value="T#500ms"/>
              </initialValue>
            </variable>
            <variable name="T_OFF_LIGHTS">
              <type>
                <TIME/>
              </type>
              <initialValue>
                <simpleValue value="T#10s"/>
              </initialValue>
            </variable>
            <variable name="LIGHT_CONTROL">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="ENABLE_OFF_SWITCH">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="DOWN_SEQUENCE">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="UP_SEQUENCE">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="TON1">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
            <variable name="TON2">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
            <variable name="TON3">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
            <variable name="TON4">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
            <variable name="TON0">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
            <variable name="TON5">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
            <variable name="TON6">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
            <variable name="TON7">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
            <variable name="TON8">
              <type>
                <derived name="TON"/>
              </type>
            </variable>
          </localVars>
        </interface>
        <body>
          <LD>
            <leftPowerRail localId="10" height="40" width="10" executionOrderId="0">
              <position x="10" y="210"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="11" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="70" y="220"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="10">
                  <position x="70" y="230"/>
                  <position x="20" y="230"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_DOWN</variable>
            </contact>
            <rightPowerRail localId="13" height="40" width="10" executionOrderId="0">
              <position x="630" y="210"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="15">
                  <position x="630" y="230"/>
                  <position x="571" y="230"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <leftPowerRail localId="1" height="40" width="10" executionOrderId="0">
              <position x="10" y="270"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="2" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="70" y="280"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="1">
                  <position x="70" y="290"/>
                  <position x="20" y="290"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_UP</variable>
            </contact>
            <contact localId="14" height="20" width="21" negated="true">
              <position x="210" y="220"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="2">
                  <position x="210" y="230"/>
                  <position x="150" y="230"/>
                  <position x="150" y="290"/>
                  <position x="91" y="290"/>
                </connection>
                <connection refLocalId="11">
                  <position x="210" y="230"/>
                  <position x="91" y="230"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <coil localId="15" height="20" width="21" negated="false" storage="set">
              <position x="550" y="220"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="14">
                  <position x="550" y="230"/>
                  <position x="231" y="230"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </coil>
            <leftPowerRail localId="3" height="40" width="10" executionOrderId="0">
              <position x="10" y="440"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="4" height="20" width="21" negated="false" executionOrderId="0" edge="falling">
              <position x="70" y="450"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="3">
                  <position x="70" y="460"/>
                  <position x="20" y="460"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_UP</variable>
            </contact>
            <leftPowerRail localId="5" height="40" width="10" executionOrderId="0">
              <position x="10" y="370"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="6" height="20" width="21" negated="false" executionOrderId="0" edge="falling">
              <position x="70" y="380"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="5">
                  <position x="70" y="390"/>
                  <position x="20" y="390"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_DOWN</variable>
            </contact>
            <coil localId="16" height="20" width="21" negated="false" storage="set">
              <position x="550" y="380"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="22">
                  <position x="550" y="390"/>
                  <position x="221" y="390"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>ENABLE_OFF_SWITCH</variable>
            </coil>
            <rightPowerRail localId="7" height="40" width="10" executionOrderId="0">
              <position x="630" y="370"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="16">
                  <position x="630" y="390"/>
                  <position x="571" y="390"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <leftPowerRail localId="8" height="40" width="10" executionOrderId="0">
              <position x="10" y="590"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="9" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="70" y="600"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="8">
                  <position x="70" y="610"/>
                  <position x="20" y="610"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_UP</variable>
            </contact>
            <leftPowerRail localId="12" height="40" width="10" executionOrderId="0">
              <position x="10" y="530"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="17" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="70" y="540"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="12">
                  <position x="70" y="550"/>
                  <position x="20" y="550"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_DOWN</variable>
            </contact>
            <rightPowerRail localId="18" height="40" width="10" executionOrderId="0">
              <position x="630" y="530"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="20">
                  <position x="630" y="550"/>
                  <position x="571" y="550"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <contact localId="19" height="20" width="21" negated="false" executionOrderId="0">
              <position x="330" y="540"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="21">
                  <position x="330" y="550"/>
                  <position x="221" y="550"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <coil localId="20" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="550" y="540"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="19">
                  <position x="550" y="550"/>
                  <position x="351" y="550"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </coil>
            <contact localId="21" height="20" width="21" negated="false" executionOrderId="0">
              <position x="200" y="540"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="17">
                  <position x="200" y="550"/>
                  <position x="91" y="550"/>
                </connection>
                <connection refLocalId="9">
                  <position x="200" y="550"/>
                  <position x="145" y="550"/>
                  <position x="145" y="610"/>
                  <position x="91" y="610"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>ENABLE_OFF_SWITCH</variable>
            </contact>
            <contact localId="22" height="20" width="21" negated="false" executionOrderId="0">
              <position x="200" y="380"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="6">
                  <position x="200" y="390"/>
                  <position x="91" y="390"/>
                </connection>
                <connection refLocalId="4">
                  <position x="200" y="390"/>
                  <position x="145" y="390"/>
                  <position x="145" y="460"/>
                  <position x="91" y="460"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <leftPowerRail localId="25" height="40" width="10" executionOrderId="0">
              <position x="10" y="700"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <rightPowerRail localId="27" height="40" width="10" executionOrderId="0">
              <position x="630" y="700"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="28">
                  <position x="630" y="720"/>
                  <position x="571" y="720"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="28" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="550" y="710"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="29">
                  <position x="550" y="720"/>
                  <position x="91" y="720"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>ENABLE_OFF_SWITCH</variable>
            </coil>
            <contact localId="29" height="20" width="21" negated="false" executionOrderId="0" edge="falling">
              <position x="70" y="710"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="25">
                  <position x="70" y="720"/>
                  <position x="20" y="720"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <leftPowerRail localId="30" height="40" width="10" executionOrderId="0">
              <position x="10" y="1690"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="31" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="1700"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="30">
                  <position x="70" y="1710"/>
                  <position x="20" y="1710"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_DOWN</variable>
            </contact>
            <block localId="32" typeName="TON" instanceName="TON1" height="100" width="60">
              <position x="410" y="1670"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="64">
                      <position x="410" y="1710"/>
                      <position x="331" y="1710"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="80"/>
                    <connection refLocalId="33">
                      <position x="410" y="1750"/>
                      <position x="360" y="1750"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="80"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <inVariable localId="33" height="30" width="90" negated="false">
              <position x="270" y="1740"/>
              <connectionPointOut>
                <relPosition x="90" y="10"/>
              </connectionPointOut>
              <expression>T_SEQUENCE</expression>
            </inVariable>
            <rightPowerRail localId="34" height="40" width="10" executionOrderId="0">
              <position x="630" y="1690"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="35">
                  <position x="630" y="1710"/>
                  <position x="581" y="1710"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="35" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="1700"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="32" formalParameter="Q">
                  <position x="560" y="1710"/>
                  <position x="470" y="1710"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </coil>
            <leftPowerRail localId="36" height="40" width="10" executionOrderId="0">
              <position x="10" y="1600"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="37" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="70" y="1610"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="36">
                  <position x="70" y="1620"/>
                  <position x="20" y="1620"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <rightPowerRail localId="40" height="40" width="10" executionOrderId="0">
              <position x="630" y="1600"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="41">
                  <position x="630" y="1620"/>
                  <position x="581" y="1620"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="41" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="1610"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="79">
                  <position x="560" y="1620"/>
                  <position x="211" y="1620"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_DOWN</variable>
            </coil>
            <leftPowerRail localId="38" height="40" width="10" executionOrderId="0">
              <position x="10" y="1830"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="39" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="1840"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="38">
                  <position x="70" y="1850"/>
                  <position x="20" y="1850"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </contact>
            <block localId="42" typeName="TON" instanceName="TON2" height="110" width="60" executionOrderId="0">
              <position x="410" y="1810"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="65">
                      <position x="410" y="1850"/>
                      <position x="331" y="1850"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="90"/>
                    <connection refLocalId="43">
                      <position x="410" y="1900"/>
                      <position x="370" y="1900"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="90"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <rightPowerRail localId="44" height="40" width="10" executionOrderId="0">
              <position x="630" y="1830"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="45">
                  <position x="630" y="1850"/>
                  <position x="581" y="1850"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="45" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="1840"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="42" formalParameter="Q">
                  <position x="560" y="1850"/>
                  <position x="470" y="1850"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_UP</variable>
            </coil>
            <leftPowerRail localId="46" height="40" width="10" executionOrderId="0">
              <position x="10" y="2120"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="47" height="20" width="21" negated="true" executionOrderId="0">
              <position x="70" y="2130"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="46">
                  <position x="70" y="2140"/>
                  <position x="20" y="2140"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_DOWN</variable>
            </contact>
            <block localId="48" typeName="TON" instanceName="TON3" height="110" width="60" executionOrderId="0">
              <position x="400" y="2100"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="62">
                      <position x="400" y="2140"/>
                      <position x="321" y="2140"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="90"/>
                    <connection refLocalId="59">
                      <position x="400" y="2190"/>
                      <position x="350" y="2190"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="90"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <rightPowerRail localId="50" height="40" width="10" executionOrderId="0">
              <position x="630" y="2120"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="51">
                  <position x="630" y="2140"/>
                  <position x="581" y="2140"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="51" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="2130"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="48" formalParameter="Q">
                  <position x="560" y="2140"/>
                  <position x="460" y="2140"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </coil>
            <leftPowerRail localId="52" height="40" width="10" executionOrderId="0">
              <position x="10" y="2030"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="53" height="20" width="21" negated="false" executionOrderId="0" edge="falling">
              <position x="70" y="2040"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="52">
                  <position x="70" y="2050"/>
                  <position x="20" y="2050"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <rightPowerRail localId="56" height="40" width="10" executionOrderId="0">
              <position x="630" y="2030"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="57">
                  <position x="630" y="2050"/>
                  <position x="581" y="2050"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="57" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="2040"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="82">
                  <position x="560" y="2050"/>
                  <position x="201" y="2050"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_DOWN</variable>
            </coil>
            <contact localId="62" height="20" width="21" negated="true" executionOrderId="0">
              <position x="300" y="2130"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="83">
                  <position x="300" y="2140"/>
                  <position x="191" y="2140"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <leftPowerRail localId="54" height="40" width="10" executionOrderId="0">
              <position x="10" y="2270"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="55" height="20" width="21" negated="true" executionOrderId="0">
              <position x="70" y="2280"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="54">
                  <position x="70" y="2290"/>
                  <position x="20" y="2290"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </contact>
            <block localId="58" typeName="TON" instanceName="TON4" height="110" width="60" executionOrderId="0">
              <position x="400" y="2250"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="63">
                      <position x="400" y="2290"/>
                      <position x="321" y="2290"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="90"/>
                    <connection refLocalId="49">
                      <position x="400" y="2340"/>
                      <position x="350" y="2340"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="90"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <rightPowerRail localId="60" height="40" width="10" executionOrderId="0">
              <position x="630" y="2270"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="61">
                  <position x="630" y="2290"/>
                  <position x="581" y="2290"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="61" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="2280"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="58" formalParameter="Q">
                  <position x="560" y="2290"/>
                  <position x="460" y="2290"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_UP</variable>
            </coil>
            <contact localId="63" height="20" width="21" negated="true" executionOrderId="0">
              <position x="300" y="2280"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="84">
                  <position x="300" y="2290"/>
                  <position x="201" y="2290"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <inVariable localId="43" height="30" width="90" negated="false" executionOrderId="0">
              <position x="280" y="1890"/>
              <connectionPointOut>
                <relPosition x="90" y="10"/>
              </connectionPointOut>
              <expression>T_SEQUENCE</expression>
            </inVariable>
            <contact localId="64" height="20" width="21" negated="false" executionOrderId="0">
              <position x="310" y="1700"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="77">
                  <position x="310" y="1710"/>
                  <position x="211" y="1710"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <contact localId="65" height="20" width="21" negated="false" executionOrderId="0">
              <position x="310" y="1840"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="78">
                  <position x="310" y="1850"/>
                  <position x="201" y="1850"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <leftPowerRail localId="23" height="40" width="10" executionOrderId="0">
              <position x="10" y="840"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="24" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="850"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="23">
                  <position x="70" y="860"/>
                  <position x="20" y="860"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <contact localId="26" height="20" width="21" negated="true" executionOrderId="0">
              <position x="200" y="850"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="24">
                  <position x="200" y="860"/>
                  <position x="91" y="860"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>PRESENCE_SENSOR</variable>
            </contact>
            <block localId="66" typeName="TON" instanceName="TON0" height="100" width="60" executionOrderId="0">
              <position x="420" y="820"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="26">
                      <position x="420" y="860"/>
                      <position x="221" y="860"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="80"/>
                    <connection refLocalId="67">
                      <position x="420" y="900"/>
                      <position x="370" y="900"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="80"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <inVariable localId="67" height="30" width="110" negated="false" executionOrderId="0">
              <position x="260" y="880"/>
              <connectionPointOut>
                <relPosition x="110" y="20"/>
              </connectionPointOut>
              <expression>T_OFF_LIGHTS</expression>
            </inVariable>
            <coil localId="68" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="550" y="850"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="66" formalParameter="Q">
                  <position x="550" y="860"/>
                  <position x="480" y="860"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </coil>
            <rightPowerRail localId="69" height="40" width="10" executionOrderId="0">
              <position x="630" y="840"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="68">
                  <position x="630" y="860"/>
                  <position x="571" y="860"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <leftPowerRail localId="70" height="40" width="10" executionOrderId="0">
              <position x="10" y="1030"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="71" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="70" y="1040"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="70">
                  <position x="70" y="1050"/>
                  <position x="20" y="1050"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <rightPowerRail localId="72" height="40" width="10" executionOrderId="0">
              <position x="630" y="1030"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="73">
                  <position x="630" y="1050"/>
                  <position x="581" y="1050"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="73" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="1040"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="74">
                  <position x="560" y="1050"/>
                  <position x="221" y="1050"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </coil>
            <contact localId="74" height="20" width="21" negated="false" executionOrderId="0">
              <position x="200" y="1040"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="71">
                  <position x="200" y="1050"/>
                  <position x="91" y="1050"/>
                </connection>
                <connection refLocalId="76">
                  <position x="200" y="1050"/>
                  <position x="140" y="1050"/>
                  <position x="140" y="1120"/>
                  <position x="91" y="1120"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_DOWN</variable>
            </contact>
            <leftPowerRail localId="75" height="40" width="10" executionOrderId="0">
              <position x="10" y="1100"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="76" height="20" width="21" negated="false" executionOrderId="0" edge="falling">
              <position x="70" y="1110"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="75">
                  <position x="70" y="1120"/>
                  <position x="20" y="1120"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <contact localId="79" height="20" width="21" negated="false" executionOrderId="0">
              <position x="190" y="1610"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="37">
                  <position x="190" y="1620"/>
                  <position x="91" y="1620"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </contact>
            <contact localId="77" height="20" width="21" negated="false" executionOrderId="0">
              <position x="190" y="1700"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="31">
                  <position x="190" y="1710"/>
                  <position x="91" y="1710"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </contact>
            <contact localId="78" height="20" width="21" negated="false" executionOrderId="0">
              <position x="180" y="1840"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="39">
                  <position x="180" y="1850"/>
                  <position x="91" y="1850"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </contact>
            <rightPowerRail localId="80" height="40" width="10" executionOrderId="0">
              <position x="630" y="1910"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="81">
                  <position x="630" y="1930"/>
                  <position x="581" y="1930"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="81" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="1920"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="42" formalParameter="Q">
                  <position x="560" y="1930"/>
                  <position x="505" y="1930"/>
                  <position x="505" y="1850"/>
                  <position x="470" y="1850"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </coil>
            <contact localId="82" height="20" width="21" negated="false" executionOrderId="0">
              <position x="180" y="2040"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="53">
                  <position x="180" y="2050"/>
                  <position x="91" y="2050"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </contact>
            <contact localId="83" height="20" width="21" negated="false" executionOrderId="0">
              <position x="170" y="2130"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="47">
                  <position x="170" y="2140"/>
                  <position x="91" y="2140"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </contact>
            <contact localId="84" height="20" width="21" negated="false" executionOrderId="0">
              <position x="180" y="2280"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="55">
                  <position x="180" y="2290"/>
                  <position x="91" y="2290"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </contact>
            <rightPowerRail localId="85" height="40" width="10" executionOrderId="0">
              <position x="630" y="2370"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="86">
                  <position x="630" y="2390"/>
                  <position x="581" y="2390"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="86" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="2380"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="58" formalParameter="Q">
                  <position x="560" y="2390"/>
                  <position x="500" y="2390"/>
                  <position x="500" y="2290"/>
                  <position x="460" y="2290"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </coil>
            <leftPowerRail localId="87" height="40" width="10" executionOrderId="0">
              <position x="10" y="2580"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="88" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="2590"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="87">
                  <position x="70" y="2600"/>
                  <position x="20" y="2600"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_UP</variable>
            </contact>
            <block localId="89" typeName="TON" instanceName="TON5" height="100" width="60" executionOrderId="0">
              <position x="410" y="2560"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="121">
                      <position x="410" y="2600"/>
                      <position x="331" y="2600"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="80"/>
                    <connection refLocalId="90">
                      <position x="410" y="2640"/>
                      <position x="360" y="2640"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="80"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <rightPowerRail localId="91" height="40" width="10" executionOrderId="0">
              <position x="630" y="2580"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="92">
                  <position x="630" y="2600"/>
                  <position x="581" y="2600"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="92" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="2590"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="89" formalParameter="Q">
                  <position x="560" y="2600"/>
                  <position x="470" y="2600"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </coil>
            <leftPowerRail localId="93" height="40" width="10" executionOrderId="0">
              <position x="10" y="2490"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="94" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="70" y="2500"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="93">
                  <position x="70" y="2510"/>
                  <position x="20" y="2510"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <leftPowerRail localId="95" height="40" width="10" executionOrderId="0">
              <position x="10" y="2720"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="96" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="2730"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="95">
                  <position x="70" y="2740"/>
                  <position x="20" y="2740"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </contact>
            <rightPowerRail localId="97" height="40" width="10" executionOrderId="0">
              <position x="630" y="2490"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="98">
                  <position x="630" y="2510"/>
                  <position x="581" y="2510"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="98" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="2500"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="132">
                  <position x="560" y="2510"/>
                  <position x="211" y="2510"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_UP</variable>
            </coil>
            <block localId="99" typeName="TON" instanceName="TON6" height="110" width="60" executionOrderId="0">
              <position x="410" y="2700"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="122">
                      <position x="410" y="2740"/>
                      <position x="331" y="2740"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="90"/>
                    <connection refLocalId="100">
                      <position x="410" y="2790"/>
                      <position x="360" y="2790"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="90"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <rightPowerRail localId="101" height="40" width="10" executionOrderId="0">
              <position x="630" y="2720"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="102">
                  <position x="630" y="2740"/>
                  <position x="581" y="2740"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="102" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="2730"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="99" formalParameter="Q">
                  <position x="560" y="2740"/>
                  <position x="470" y="2740"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_DOWN</variable>
            </coil>
            <leftPowerRail localId="103" height="40" width="10" executionOrderId="0">
              <position x="10" y="3000"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="104" height="20" width="21" negated="true" executionOrderId="0">
              <position x="70" y="3010"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="103">
                  <position x="70" y="3020"/>
                  <position x="20" y="3020"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_UP</variable>
            </contact>
            <block localId="105" typeName="TON" instanceName="TON7" height="110" width="60" executionOrderId="0">
              <position x="400" y="2980"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="119">
                      <position x="400" y="3020"/>
                      <position x="321" y="3020"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="90"/>
                    <connection refLocalId="116">
                      <position x="400" y="3070"/>
                      <position x="350" y="3070"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="90"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <rightPowerRail localId="107" height="40" width="10" executionOrderId="0">
              <position x="630" y="3000"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="108">
                  <position x="630" y="3020"/>
                  <position x="581" y="3020"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="108" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="3010"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="105" formalParameter="Q">
                  <position x="560" y="3020"/>
                  <position x="460" y="3020"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </coil>
            <leftPowerRail localId="109" height="40" width="10" executionOrderId="0">
              <position x="10" y="2910"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="110" height="20" width="21" negated="false" executionOrderId="0" edge="falling">
              <position x="70" y="2920"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="109">
                  <position x="70" y="2930"/>
                  <position x="20" y="2930"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <leftPowerRail localId="111" height="40" width="10" executionOrderId="0">
              <position x="10" y="3150"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="112" height="20" width="21" negated="true" executionOrderId="0">
              <position x="70" y="3160"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="111">
                  <position x="70" y="3170"/>
                  <position x="20" y="3170"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </contact>
            <rightPowerRail localId="113" height="40" width="10" executionOrderId="0">
              <position x="630" y="2910"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="114">
                  <position x="630" y="2930"/>
                  <position x="581" y="2930"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="114" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="2920"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="135">
                  <position x="560" y="2930"/>
                  <position x="191" y="2930"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_UP</variable>
            </coil>
            <block localId="115" typeName="TON" instanceName="TON8" height="110" width="60" executionOrderId="0">
              <position x="400" y="3130"/>
              <inputVariables>
                <variable formalParameter="IN">
                  <connectionPointIn>
                    <relPosition x="0" y="40"/>
                    <connection refLocalId="120">
                      <position x="400" y="3170"/>
                      <position x="321" y="3170"/>
                    </connection>
                  </connectionPointIn>
                </variable>
                <variable formalParameter="PT">
                  <connectionPointIn>
                    <relPosition x="0" y="90"/>
                    <connection refLocalId="106">
                      <position x="400" y="3220"/>
                      <position x="350" y="3220"/>
                    </connection>
                  </connectionPointIn>
                </variable>
              </inputVariables>
              <inOutVariables/>
              <outputVariables>
                <variable formalParameter="Q">
                  <connectionPointOut>
                    <relPosition x="60" y="40"/>
                  </connectionPointOut>
                </variable>
                <variable formalParameter="ET">
                  <connectionPointOut>
                    <relPosition x="60" y="90"/>
                  </connectionPointOut>
                </variable>
              </outputVariables>
            </block>
            <rightPowerRail localId="117" height="40" width="10" executionOrderId="0">
              <position x="630" y="3150"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="118">
                  <position x="630" y="3170"/>
                  <position x="581" y="3170"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="118" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="3160"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="115" formalParameter="Q">
                  <position x="560" y="3170"/>
                  <position x="460" y="3170"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_DOWN</variable>
            </coil>
            <contact localId="119" height="20" width="21" negated="true" executionOrderId="0">
              <position x="300" y="3010"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="136">
                  <position x="300" y="3020"/>
                  <position x="191" y="3020"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <contact localId="120" height="20" width="21" negated="true" executionOrderId="0">
              <position x="300" y="3160"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="137">
                  <position x="300" y="3170"/>
                  <position x="201" y="3170"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <contact localId="121" height="20" width="21" negated="false" executionOrderId="0">
              <position x="310" y="2590"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="130">
                  <position x="310" y="2600"/>
                  <position x="211" y="2600"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <contact localId="122" height="20" width="21" negated="false" executionOrderId="0">
              <position x="310" y="2730"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="131">
                  <position x="310" y="2740"/>
                  <position x="201" y="2740"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <leftPowerRail localId="123" height="40" width="10" executionOrderId="0">
              <position x="10" y="1180"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="124" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="70" y="1190"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="123">
                  <position x="70" y="1200"/>
                  <position x="20" y="1200"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <rightPowerRail localId="125" height="40" width="10" executionOrderId="0">
              <position x="630" y="1180"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="126">
                  <position x="630" y="1200"/>
                  <position x="581" y="1200"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="126" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="1190"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="127">
                  <position x="560" y="1200"/>
                  <position x="221" y="1200"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </coil>
            <contact localId="127" height="20" width="21" negated="false" executionOrderId="0">
              <position x="200" y="1190"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="124">
                  <position x="200" y="1200"/>
                  <position x="91" y="1200"/>
                </connection>
                <connection refLocalId="129">
                  <position x="200" y="1200"/>
                  <position x="140" y="1200"/>
                  <position x="140" y="1270"/>
                  <position x="91" y="1270"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>SWITCH_UP</variable>
            </contact>
            <leftPowerRail localId="128" height="40" width="10" executionOrderId="0">
              <position x="10" y="1250"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="129" height="20" width="21" negated="false" executionOrderId="0" edge="falling">
              <position x="70" y="1260"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="128">
                  <position x="70" y="1270"/>
                  <position x="20" y="1270"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <contact localId="130" height="20" width="21" negated="false" executionOrderId="0">
              <position x="190" y="2590"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="88">
                  <position x="190" y="2600"/>
                  <position x="91" y="2600"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </contact>
            <contact localId="131" height="20" width="21" negated="false" executionOrderId="0">
              <position x="180" y="2730"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="96">
                  <position x="180" y="2740"/>
                  <position x="91" y="2740"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </contact>
            <contact localId="132" height="20" width="21" negated="false" executionOrderId="0">
              <position x="190" y="2500"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="94">
                  <position x="190" y="2510"/>
                  <position x="91" y="2510"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </contact>
            <rightPowerRail localId="133" height="40" width="10" executionOrderId="0">
              <position x="630" y="2800"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="134">
                  <position x="630" y="2820"/>
                  <position x="581" y="2820"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="134" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="2810"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="99" formalParameter="Q">
                  <position x="560" y="2820"/>
                  <position x="500" y="2820"/>
                  <position x="500" y="2740"/>
                  <position x="470" y="2740"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </coil>
            <contact localId="135" height="20" width="21" negated="false" executionOrderId="0">
              <position x="170" y="2920"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="110">
                  <position x="170" y="2930"/>
                  <position x="91" y="2930"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </contact>
            <contact localId="136" height="20" width="21" negated="false" executionOrderId="0">
              <position x="170" y="3010"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="104">
                  <position x="170" y="3020"/>
                  <position x="91" y="3020"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </contact>
            <contact localId="137" height="20" width="21" negated="false" executionOrderId="0">
              <position x="180" y="3160"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="112">
                  <position x="180" y="3170"/>
                  <position x="91" y="3170"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </contact>
            <rightPowerRail localId="138" height="40" width="10" executionOrderId="0">
              <position x="630" y="3250"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="139">
                  <position x="630" y="3270"/>
                  <position x="581" y="3270"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="139" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="3260"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="115" formalParameter="Q">
                  <position x="560" y="3270"/>
                  <position x="500" y="3270"/>
                  <position x="500" y="3170"/>
                  <position x="460" y="3170"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </coil>
            <rightPowerRail localId="140" height="40" width="10" executionOrderId="0">
              <position x="630" y="1240"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="141">
                  <position x="630" y="1260"/>
                  <position x="581" y="1260"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="141" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="1250"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="127">
                  <position x="560" y="1260"/>
                  <position x="510" y="1260"/>
                  <position x="510" y="1200"/>
                  <position x="221" y="1200"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </coil>
            <rightPowerRail localId="142" height="40" width="10" executionOrderId="0">
              <position x="630" y="1100"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="143">
                  <position x="630" y="1120"/>
                  <position x="581" y="1120"/>
                </connection>
                <connection refLocalId="143">
                  <position x="630" y="1120"/>
                  <position x="581" y="1120"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="143" height="20" width="21" negated="false" storage="reset" executionOrderId="0">
              <position x="560" y="1110"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="74">
                  <position x="560" y="1120"/>
                  <position x="510" y="1120"/>
                  <position x="510" y="1050"/>
                  <position x="221" y="1050"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </coil>
            <rightPowerRail localId="144" height="40" width="10" executionOrderId="0">
              <position x="630" y="910"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="145">
                  <position x="630" y="930"/>
                  <position x="581" y="930"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="145" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="560" y="920"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="66" formalParameter="Q">
                  <position x="560" y="930"/>
                  <position x="510" y="930"/>
                  <position x="510" y="860"/>
                  <position x="480" y="860"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </coil>
            <leftPowerRail localId="146" height="40" width="10" executionOrderId="0">
              <position x="10" y="1360"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="147" height="20" width="21" negated="false" executionOrderId="0">
              <position x="210" y="1440"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="148">
                  <position x="210" y="1450"/>
                  <position x="155" y="1450"/>
                  <position x="155" y="1380"/>
                  <position x="101" y="1380"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DOWN_SEQUENCE</variable>
            </contact>
            <contact localId="148" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="80" y="1370"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="146">
                  <position x="80" y="1380"/>
                  <position x="20" y="1380"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>PRESENCE_SENSOR</variable>
            </contact>
            <contact localId="150" height="20" width="21" negated="false" executionOrderId="0">
              <position x="210" y="1370"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="148">
                  <position x="210" y="1380"/>
                  <position x="101" y="1380"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>UP_SEQUENCE</variable>
            </contact>
            <coil localId="151" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="550" y="1370"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="152">
                  <position x="550" y="1380"/>
                  <position x="401" y="1380"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </coil>
            <contact localId="152" height="20" width="21" negated="true" executionOrderId="0">
              <position x="380" y="1370"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="147">
                  <position x="380" y="1380"/>
                  <position x="305" y="1380"/>
                  <position x="305" y="1450"/>
                  <position x="231" y="1450"/>
                </connection>
                <connection refLocalId="150">
                  <position x="380" y="1380"/>
                  <position x="231" y="1380"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <rightPowerRail localId="153" height="40" width="10" executionOrderId="0">
              <position x="630" y="1360"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="151">
                  <position x="630" y="1380"/>
                  <position x="571" y="1380"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <rightPowerRail localId="154" height="40" width="10" executionOrderId="0">
              <position x="630" y="1480"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="155">
                  <position x="630" y="1500"/>
                  <position x="571" y="1500"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <coil localId="155" height="20" width="21" negated="false" storage="set" executionOrderId="0">
              <position x="550" y="1490"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="156">
                  <position x="550" y="1500"/>
                  <position x="231" y="1500"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>ENABLE_OFF_SWITCH</variable>
            </coil>
            <contact localId="149" height="20" width="21" negated="false" executionOrderId="0" edge="rising">
              <position x="80" y="1490"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="157">
                  <position x="80" y="1500"/>
                  <position x="20" y="1500"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>PRESENCE_SENSOR</variable>
            </contact>
            <contact localId="156" height="20" width="21" negated="false" executionOrderId="0">
              <position x="210" y="1490"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="149">
                  <position x="210" y="1500"/>
                  <position x="101" y="1500"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_CONTROL</variable>
            </contact>
            <leftPowerRail localId="157" height="40" width="10" executionOrderId="0">
              <position x="10" y="1480"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <inVariable localId="59" height="30" width="90" negated="false" executionOrderId="0">
              <position x="260" y="2170"/>
              <connectionPointOut>
                <relPosition x="90" y="20"/>
              </connectionPointOut>
              <expression>T_SEQUENCE</expression>
            </inVariable>
            <inVariable localId="49" height="30" width="90" negated="false" executionOrderId="0">
              <position x="260" y="2320"/>
              <connectionPointOut>
                <relPosition x="90" y="20"/>
              </connectionPointOut>
              <expression>T_SEQUENCE</expression>
            </inVariable>
            <inVariable localId="90" height="30" width="90" negated="false" executionOrderId="0">
              <position x="270" y="2630"/>
              <connectionPointOut>
                <relPosition x="90" y="10"/>
              </connectionPointOut>
              <expression>T_SEQUENCE</expression>
            </inVariable>
            <inVariable localId="100" height="30" width="90" negated="false" executionOrderId="0">
              <position x="270" y="2780"/>
              <connectionPointOut>
                <relPosition x="90" y="10"/>
              </connectionPointOut>
              <expression>T_SEQUENCE</expression>
            </inVariable>
            <inVariable localId="116" height="30" width="90" negated="false" executionOrderId="0">
              <position x="260" y="3050"/>
              <connectionPointOut>
                <relPosition x="90" y="20"/>
              </connectionPointOut>
              <expression>T_SEQUENCE</expression>
            </inVariable>
            <inVariable localId="106" height="30" width="90" negated="false" executionOrderId="0">
              <position x="260" y="3210"/>
              <connectionPointOut>
                <relPosition x="90" y="10"/>
              </connectionPointOut>
              <expression>T_SEQUENCE</expression>
            </inVariable>
            <comment localId="158" height="140" width="1150">
              <position x="10" y="10"/>
              <content>
                <xhtml:p><![CDATA[Behaviour:

The switches at both ends of the stairs are push buttons and will turn the lights on and off.

The lights will turn on and off in sequence with a delay of N milliseconds (see the initial value of T_SEQUENCE).

The lights will turn off after N seconds (see initial value T_OFF_LIGHTS) if no presence is detected on a sensor that is placed in the middle of the stairs.
]]></xhtml:p>
              </content>
            </comment>
            <comment localId="159" height="60" width="590">
              <position x="670" y="200"/>
              <content>
                <xhtml:p><![CDATA[If there is a pulse in the switches and the command for turn of lights is off, command to turn on lights.]]></xhtml:p>
              </content>
            </comment>
            <comment localId="160" height="60" width="590">
              <position x="670" y="360"/>
              <content>
                <xhtml:p><![CDATA[If the lights are commanded on and the switches are released(They are push buttons), enable lights off with the next pulse on the switches.]]></xhtml:p>
              </content>
            </comment>
            <comment localId="161" height="80" width="590">
              <position x="670" y="510"/>
              <content>
                <xhtml:p><![CDATA[If there is a pulse on the switches and the lights are commanded on and this pulse is also enabled to turn off the lights(see previous line), the lights are commanded off.]]></xhtml:p>
              </content>
            </comment>
            <comment localId="162" height="60" width="590">
              <position x="670" y="690"/>
              <content>
                <xhtml:p><![CDATA[When lights are commanded off, by disabling set off on next pulse, the next pulse on the switches will be to turn on the lights.]]></xhtml:p>
              </content>
            </comment>
            <comment localId="163" height="80" width="590">
              <position x="660" y="850"/>
              <content>
                <xhtml:p><![CDATA[Turn off lights after T_OFF_LIGHTS seconds if they are on, presence detection will restart the timer and the default sequence to turn off the lights after this time is from down to up.]]></xhtml:p>
              </content>
            </comment>
            <comment localId="164" height="60" width="590">
              <position x="660" y="1120"/>
              <content>
                <xhtml:p><![CDATA[Choose the sequence to turn on and off lights depending on which switch is pressed.]]></xhtml:p>
              </content>
            </comment>
            <comment localId="165" height="120" width="590">
              <position x="660" y="1380"/>
              <content>
                <xhtml:p><![CDATA[The first line prevents the lights to go off if there is presence detected, LIGHT_CONTROL off and one of the sequences active means the lights are turning off.
The second line is necesary to allow the lights to be command off with the next switch press. ]]></xhtml:p>
              </content>
            </comment>
            <comment localId="166" height="150" width="590">
              <position x="660" y="1710"/>
              <content>
                <xhtml:p><![CDATA[Turning on the lights on from down to up, the open LIGHT_CONTROL contact will prevent the lights from continuing to turn on if they were commanded off during the on sequence, at the end DOWN_SEQUENCE is reset ending the process.
T_SEQUENCE(see initial value to change) will be the time difference between one light and the another.]]></xhtml:p>
              </content>
            </comment>
            <comment localId="167" height="150" width="590">
              <position x="660" y="2140"/>
              <content>
                <xhtml:p><![CDATA[Turning off the lights from the bottom up. The process follows the same logic as power on, the difference is that a falling edge is detected on LIGHT_CONTROL indicating that the lights have been commanded to turn off. Here too but backwards, the LIGHT_CONTROL normally close contact on the second and third lights will prevent them from turning off, if commanded turn on during the off sequence.]]></xhtml:p>
              </content>
            </comment>
            <comment localId="168" height="40" width="590">
              <position x="660" y="2650"/>
              <content>
                <xhtml:p><![CDATA[Turning on the lights on from up to down(on process for UP_SEQUENCE).]]></xhtml:p>
              </content>
            </comment>
            <comment localId="169" height="40" width="590">
              <position x="660" y="3080"/>
              <content>
                <xhtml:p><![CDATA[Turning off the lights on from up to down(off process for UP_SEQUENCE).]]></xhtml:p>
              </content>
            </comment>
          </LD>
        </body>
      </pou>
      <pou name="outputs" pouType="program">
        <interface>
          <localVars>
            <variable name="DO0" address="%QX0.0">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="DO1" address="%QX0.1">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="DO2" address="%QX0.2">
              <type>
                <BOOL/>
              </type>
            </variable>
          </localVars>
          <externalVars>
            <variable name="LIGHT_DOWN">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="LIGHT_MIDDLE">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="LIGHT_UP">
              <type>
                <BOOL/>
              </type>
            </variable>
          </externalVars>
        </interface>
        <body>
          <LD>
            <leftPowerRail localId="10" height="40" width="10" executionOrderId="0">
              <position x="10" y="440"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="11" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="450"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="10">
                  <position x="70" y="460"/>
                  <position x="20" y="460"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_DOWN</variable>
            </contact>
            <coil localId="12" height="20" width="21" negated="false" executionOrderId="0">
              <position x="190" y="450"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="11">
                  <position x="190" y="460"/>
                  <position x="91" y="460"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DO0</variable>
            </coil>
            <rightPowerRail localId="13" height="40" width="10" executionOrderId="0">
              <position x="250" y="440"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="12">
                  <position x="250" y="460"/>
                  <position x="211" y="460"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <comment localId="14" height="230" width="1150">
              <position x="10" y="10"/>
              <content>
                <xhtml:p><![CDATA[OpenPLC HAL for CONTROLLINO MAXI Automation see https://www.controllino.com/wp-content/uploads/2021/03/CONTROLLINO-MAXI-Automation-Pinout.pdf

Digital In:  AI2, AI3, AI4, AI5, AI6, AI7, AI8, AI9     (%IX0.0 - %IX0.7)
             AI10, AI11, DI0, DI1, DI2, DI3, AI2, AI3   (%IX1.0 - %IX1.7)

Digital Out: DO0, LIGHT_CONTROL, DO2, DO3, DO4, DO5, DO6, DO7     (%QX0.0 - %QX0.7)
             R0, R1, R2, R3, R4, R5, R6, R7             (%QX1.0 - %QX1.7)
             R8, R9                                     (%QX2.0 - %QX2.1)

Analog In:   AI0, AI1, AI13, AI13                       (%IW0 - %IW3)

Analog Out:  AO0, AO1                                   (%QW0 - %QW1)
]]></xhtml:p>
              </content>
            </comment>
            <comment localId="15" height="130" width="1150">
              <position x="10" y="250"/>
              <content>
                <xhtml:p><![CDATA[In PLC programming it is always a good idea to make a routine that clearly identifies the inputs and outputs with real life use and only in this routine outputs and inputs manipulation happens.

DO0 -> LIGHT_DOWN
DO1 -> LIGHT_MIDDLE
DO2 -> LIGHT_UP]]></xhtml:p>
              </content>
            </comment>
            <leftPowerRail localId="1" height="40" width="10" executionOrderId="0">
              <position x="10" y="520"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="2" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="530"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="1">
                  <position x="70" y="540"/>
                  <position x="20" y="540"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_MIDDLE</variable>
            </contact>
            <coil localId="3" height="20" width="21" negated="false" executionOrderId="0">
              <position x="190" y="530"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="2">
                  <position x="190" y="540"/>
                  <position x="91" y="540"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DO1</variable>
            </coil>
            <rightPowerRail localId="4" height="40" width="10" executionOrderId="0">
              <position x="250" y="520"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="3">
                  <position x="250" y="540"/>
                  <position x="211" y="540"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
            <leftPowerRail localId="5" height="40" width="10" executionOrderId="0">
              <position x="10" y="600"/>
              <connectionPointOut formalParameter="">
                <relPosition x="10" y="20"/>
              </connectionPointOut>
            </leftPowerRail>
            <contact localId="6" height="20" width="21" negated="false" executionOrderId="0">
              <position x="70" y="610"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="5">
                  <position x="70" y="620"/>
                  <position x="20" y="620"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>LIGHT_UP</variable>
            </contact>
            <coil localId="7" height="20" width="21" negated="false" executionOrderId="0">
              <position x="190" y="610"/>
              <connectionPointIn>
                <relPosition x="0" y="10"/>
                <connection refLocalId="6">
                  <position x="190" y="620"/>
                  <position x="91" y="620"/>
                </connection>
              </connectionPointIn>
              <connectionPointOut>
                <relPosition x="21" y="10"/>
              </connectionPointOut>
              <variable>DO2</variable>
            </coil>
            <rightPowerRail localId="8" height="40" width="10" executionOrderId="0">
              <position x="250" y="600"/>
              <connectionPointIn>
                <relPosition x="0" y="20"/>
                <connection refLocalId="7">
                  <position x="250" y="620"/>
                  <position x="211" y="620"/>
                </connection>
              </connectionPointIn>
            </rightPowerRail>
          </LD>
        </body>
      </pou>
    </pous>
  </types>
  <instances>
    <configurations>
      <configuration name="Config0">
        <resource name="Res0">
          <task name="task0" priority="0" interval="T#20ms">
            <pouInstance name="instance0" typeName="inputs"/>
            <pouInstance name="instance1" typeName="control"/>
            <pouInstance name="instance2" typeName="outputs"/>
          </task>
          <globalVars>
            <variable name="SWITCH_DOWN">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="SWITCH_UP">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="PRESENCE_SENSOR">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="LIGHT_DOWN">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="LIGHT_MIDDLE">
              <type>
                <BOOL/>
              </type>
            </variable>
            <variable name="LIGHT_UP">
              <type>
                <BOOL/>
              </type>
            </variable>
          </globalVars>
        </resource>
      </configuration>
    </configurations>
  </instances>
</project>
